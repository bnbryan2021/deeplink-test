<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🔥羊珞素全成分竟是食品級？揭開羊奶面膜真相（下）｜羊珞素到底是什麼？完整檢測內容曝光！  #羊珞素 #tklab</title>

  <!-- ✅ 靜態 Open Graph：FB/LINE 預覽會顯示正確標題與縮圖 -->
  <meta property="og:title" content="🔥羊珞素全成分竟是食品級？揭開羊奶面膜真相（下）｜羊珞素到底是什麼？完整檢測內容曝光！  #羊珞素 #tklab" />
  <meta property="og:description" content="點此開啟 YouTube 觀看完整檢測內容與解析。" />
  <meta property="og:image" content="https://img.youtube.com/vi/73iL02p9iPo/maxresdefault.jpg" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="720" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root { color-scheme: light dark; }
    body{
      font-family: system-ui,-apple-system,"Noto Sans TC",Segoe UI,Roboto,Arial,sans-serif;
      margin:0; background:#fafafa; color:#222;
      min-height:100dvh; display:grid; place-items:center; text-align:center; padding:24px
    }
    .wrap{max-width:720px}
    img.thumb{width:100%; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.12); margin-bottom:18px}
    h1{font-size:clamp(18px,2.6vw,22px); margin:8px 0 16px; line-height:1.5}
    .btn{
      display:inline-block; padding:12px 22px; border-radius:10px;
      background:#ff0000; color:#fff; text-decoration:none; font-weight:600;
      box-shadow:0 6px 14px rgba(0,0,0,.18); margin:6px
    }
    .btn.secondary{ background:#0f62fe }
    .note{margin-top:12px; color:#666; font-size:.95rem}
    .tip{display:none; margin-top:10px; font-size:.92rem; color:#555}
  </style>
</head>
<body>
  <div class="wrap">
    <img class="thumb" src="https://img.youtube.com/vi/73iL02p9iPo/maxresdefault.jpg" alt="YouTube 影片縮圖" />
    <h1>🔥羊珞素全成分竟是食品級？揭開羊奶面膜真相（下）｜羊珞素到底是什麼？完整檢測內容曝光！  #羊珞素 #tklab</h1>

    <a class="btn" id="open">▶️ 開啟 YouTube App</a>
    <a class="btn secondary" id="openBrowser" href="#" style="display:none">🌐 在瀏覽器中開啟</a>

    <div class="note">若未自動開啟，請點上方按鈕。</div>
    <div class="tip" id="tip">您目前在 FB/IG/LINE 內建瀏覽器，系統限制無法直接開 App。請點「在瀏覽器中開啟」，或於右上角「⋯」選「在瀏覽器中開啟」。</div>
  </div>

  <script>
    // ▶ 這支影片（單頁固定）
    const VID = "73iL02p9iPo";

    // Web 備援
    const WEB = `https://www.youtube.com/watch?v=${VID}&feature=youtu.be`;

    // iOS：嘗試多種 scheme（不同版本支援不同寫法）
    const IOS_SCHEMES = [
      `youtube://www.youtube.com/watch?v=${VID}`,
      `youtube://watch?v=${VID}`,
      `vnd.youtube://www.youtube.com/watch?v=${VID}`,
      `vnd.youtube://watch/${VID}`
    ];

    // Android：intent（成功率高，且帶 fallback_url）
    const ANDROID_INTENT =
      `intent://www.youtube.com/watch?v=${VID}` +
      `#Intent;scheme=https;package=com.google.android.youtube;` +
      `S.browser_fallback_url=${encodeURIComponent(WEB)};end`;

    // UA 判斷
    const ua = navigator.userAgent.toLowerCase();
    const inApp = /fbav|instagram|line|messenger/.test(ua);
    const isAndroid = /android/.test(ua);
    const isIOS = /iphone|ipad|ipod/.test(ua);

    // 若成功開 App，頁面會變不可見；用這點避免誤觸 fallback
    let opened = false;
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) opened = true;
    });

    function openApp(){
      if (inApp) {
        // 內建瀏覽器：直開網頁版 + 顯示提示與外開按鈕
        document.getElementById('tip').style.display = 'block';
        const btn = document.getElementById('openBrowser');
        btn.style.display = 'inline-block';
        btn.addEventListener('click', (e)=>{ e.preventDefault(); window.open(WEB, '_blank'); });
        location.href = WEB;
        return;
      }

      if (isAndroid) {
        location.href = ANDROID_INTENT;
        return;
      }

      if (isIOS) {
        let i = 0;
        const tryNext = () => {
          if (opened || i >= IOS_SCHEMES.length) return;
          location.href = IOS_SCHEMES[i++];
          setTimeout(() => { if (!opened) tryNext(); }, 700); // 逐一嘗試
        };
        // 最終備援：1.8s 後仍未成功則回網頁版
        setTimeout(() => { if (!opened) location.href = WEB; }, 1800);
        tryNext();
        return;
      }

      // 其他平台
      location.href = WEB;
    }

    // 自動嘗試 + 保留按鈕重試
    window.addEventListener('load', () => {
      openApp();
      const btn = document.getElementById('open');
      if (btn) btn.addEventListener('click', (e)=>{ e.preventDefault(); openApp(); });
    });
  </script>
</body>
</html>
